<view class="user-channels flex-start">
  <navigator class="user-channel padding-box top" wx:if="{{showExplore}}" url="/pages/channel/templates">
    <view class="flex-between">
      <view class="flex-start" style="flex:auto;overflow:hidden;">
        <view class="dt" style="background:#07c160;"></view>
        <view class="channel-name no-wrap">
          探索
        </view>
      </view>
      <view class="notify">
        <mp-icon icon="discover" size="20" color="gray"></mp-icon>
      </view>
    </view>
  </navigator>
  <view class="user-channel padding-box {{item.top?'top':''}}" wx:for="{{userChannels}}" wx:key="_id" bindtap="openChannel" data-item-index="{{index}}">
    <view class="flex-between">
      <view class="flex-start" style="flex:auto;overflow:hidden;">
        <view class="dt {{item.watcherOn?'dt-refreshing':''}}"></view>
        <view class="channel-name no-wrap">
          {{item.channel.name}}
        </view>
        <view class="unreaded" wx:if="{{item.channelDataMessage && !item.channelDataMessage.readed}}" catchtap="tapUnreaded"
          data-item-index="{{index}}">新</view>
      </view>
      <view catchtap="switchNotify" data-item-index="{{index}}" class="notify">
        <mp-icon icon="bellring-on" size="20" color="#07c160" wx:if="{{item.notify}}" type="field"></mp-icon>
        <mp-icon icon="bellring-on" size="20" color="#ddd" wx:else></mp-icon>
      </view>
    </view>
  </view>
</view>